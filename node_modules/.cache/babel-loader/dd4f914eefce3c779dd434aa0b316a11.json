{"ast":null,"code":"import _regeneratorRuntime from\"D:/Work/JavaScript/React/Portfolio/kantahusari.github.io/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"D:/Work/JavaScript/React/Portfolio/kantahusari.github.io/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"D:/Work/JavaScript/React/Portfolio/kantahusari.github.io/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";/* eslint-disable no-unreachable */ /* eslint-disable react-hooks/exhaustive-deps */ /* eslint-disable jsx-a11y/anchor-is-valid */ /* eslint-disable jsx-a11y/alt-text */ /* eslint-disable jsx-a11y/alt-text */ /* eslint-disable jsx-a11y/anchor-is-valid */ /* eslint-disable no-unused-vars */ /* eslint-disable jsx-a11y/alt-text */ /* eslint-disable jsx-a11y/anchor-has-content */ /* eslint-disable jsx-a11y/alt-text */ /* eslint-disable no-mixed-operators */ /* eslint-disable no-unused-vars */ /* eslint-disable jsx-a11y/alt-text */import React,{useState,useEffect}from'react';import\"./InfoBar.css\";import Cookies from'universal-cookie';import axios from'axios';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export default function InfoBar(){var cookie=new Cookies();var all=cookie.getAll();var _useState=useState(false),_useState2=_slicedToArray(_useState,2),pagereloader=_useState2[0],setpagereloader=_useState2[1];var _useState3=useState(\"\"),_useState4=_slicedToArray(_useState3,2),visitor=_useState4[0],setvisitor=_useState4[1];var _useState5=useState(false),_useState6=_slicedToArray(_useState5,2),changeStatus=_useState6[0],setchangeStatus=_useState6[1];function setAllow(){return _setAllow.apply(this,arguments);}function _setAllow(){_setAllow=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var res;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return axios.get('https://geolocation-db.com/json/').then(function(res){var visitorInfo={ip:res.data.IPv4,country:res.data.country_name,latitude:res.data.latitude,longitude:res.data.longitude};setvisitor(visitorInfo);//test here\n//test here\naxios.post('https://appzero0.herokuapp.com/guest/info',visitorInfo).then(function(res){if(res.data.errors===null||res.data.errors===undefined){var cookieToset={country:res.data.country,latitude:res.data.latitude,longitude:res.data.longitude};cookie.set(\"visitor\",cookieToset);}else{cookie.set(\"visitor\",0);}}).catch(function(err){cookie.set(\"visitor\",0);});});case 2:res=_context.sent;case 3:case\"end\":return _context.stop();}}},_callee);}));return _setAllow.apply(this,arguments);}function setBlock(){return _setBlock.apply(this,arguments);}function _setBlock(){_setBlock=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(){return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.next=2;return cookie.set(\"visitor\",0);case 2:case\"end\":return _context2.stop();}}},_callee2);}));return _setBlock.apply(this,arguments);}function allow(){return _allow.apply(this,arguments);}function _allow(){_allow=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee3(){return _regeneratorRuntime.wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:_context3.next=2;return setAllow();case 2:setchangeStatus(!changeStatus);case 3:case\"end\":return _context3.stop();}}},_callee3);}));return _allow.apply(this,arguments);}function block(){return _block.apply(this,arguments);}function _block(){_block=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee4(){return _regeneratorRuntime.wrap(function _callee4$(_context4){while(1){switch(_context4.prev=_context4.next){case 0:_context4.next=2;return setBlock();case 2:setchangeStatus(!changeStatus);case 3:case\"end\":return _context4.stop();}}},_callee4);}));return _block.apply(this,arguments);}function Show(){return/*#__PURE__*/_jsxs(\"div\",{className:\"cookiesBar\",style:{display:\"flex\"},children:[/*#__PURE__*/_jsx(\"div\",{className:\"cookiesBarLeft\",children:\"This Website uses cookies and location\"}),/*#__PURE__*/_jsx(\"div\",{className:\"cookiesBarYes\",onClick:function onClick(event){event.preventDefault();allow();},children:\"Allow\"}),/*#__PURE__*/_jsx(\"div\",{className:\"cookiesBarNo\",onClick:function onClick(event){event.preventDefault();block();},children:\"Block\"})]});}function Hide(){return/*#__PURE__*/_jsx(\"div\",{});}useEffect(function(){var timer=setTimeout(function(){setpagereloader(!pagereloader);},650);return function(){clearTimeout(timer);setchangeStatus({});};},[pagereloader]);switch(all.hasOwnProperty(\"visitor\")){case true:return/*#__PURE__*/_jsx(\"div\",{children:Hide()});break;case false:return/*#__PURE__*/_jsx(\"div\",{children:Show()});break;default:return null;}}","map":{"version":3,"sources":["D:/Work/JavaScript/React/Portfolio/kantahusari.github.io/src/Component/InfoBar/InfoBar.js"],"names":["React","useState","useEffect","Cookies","axios","InfoBar","cookie","all","getAll","pagereloader","setpagereloader","visitor","setvisitor","changeStatus","setchangeStatus","setAllow","get","then","res","visitorInfo","ip","data","IPv4","country","country_name","latitude","longitude","post","errors","undefined","cookieToset","set","catch","err","setBlock","allow","block","Show","display","event","preventDefault","Hide","timer","setTimeout","clearTimeout","hasOwnProperty"],"mappings":"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","sourcesContent":["/* eslint-disable no-unreachable */\r\n/* eslint-disable react-hooks/exhaustive-deps */\r\n/* eslint-disable jsx-a11y/anchor-is-valid */\r\n/* eslint-disable jsx-a11y/alt-text */\r\n/* eslint-disable jsx-a11y/alt-text */\r\n/* eslint-disable jsx-a11y/anchor-is-valid */\r\n/* eslint-disable no-unused-vars */\r\n/* eslint-disable jsx-a11y/alt-text */\r\n/* eslint-disable jsx-a11y/anchor-has-content */\r\n/* eslint-disable jsx-a11y/alt-text */\r\n/* eslint-disable no-mixed-operators */\r\n/* eslint-disable no-unused-vars */\r\n/* eslint-disable jsx-a11y/alt-text */\r\nimport React, { useState, useEffect } from 'react'\r\nimport \"./InfoBar.css\"\r\nimport Cookies from 'universal-cookie';\r\nimport axios from 'axios'\r\n\r\nexport default function InfoBar() {\r\n    const cookie = new Cookies()\r\n    const all = cookie.getAll()\r\n    const [pagereloader, setpagereloader] = useState(false)\r\n\r\n    const [visitor, setvisitor] = useState(\"\")\r\n    const [changeStatus, setchangeStatus] = useState(false)\r\n\r\n    async function setAllow() {\r\n        const res = await axios.get('https://geolocation-db.com/json/').then(\r\n            res => {\r\n                const visitorInfo = {\r\n                    ip: res.data.IPv4,\r\n                    country: res.data.country_name,\r\n                    latitude: res.data.latitude,\r\n                    longitude: res.data.longitude,\r\n                }\r\n                setvisitor(visitorInfo)\r\n                //test here\r\n\r\n\r\n                axios.post('https://appzero0.herokuapp.com/guest/info', visitorInfo)\r\n                    .then(\r\n                        res => {\r\n                            if (res.data.errors === null || res.data.errors === undefined) {\r\n                                const cookieToset = {\r\n                                    country: res.data.country,\r\n                                    latitude: res.data.latitude,\r\n                                    longitude: res.data.longitude,\r\n                                }\r\n                                cookie.set(\"visitor\", cookieToset)\r\n                            } else {\r\n                                cookie.set(\"visitor\", 0)\r\n                            }\r\n                        }\r\n                    ).catch(err => {\r\n                        cookie.set(\"visitor\", 0)\r\n                    })\r\n            }\r\n        )\r\n    }\r\n\r\n    async function setBlock() {\r\n        await cookie.set(\"visitor\", 0)\r\n    }\r\n\r\n    async function allow() {\r\n        await setAllow()\r\n        setchangeStatus(!changeStatus)\r\n    }\r\n\r\n    async function block() {\r\n        await setBlock()\r\n        setchangeStatus(!changeStatus)\r\n    }\r\n    function Show() {\r\n        return (\r\n            <div className=\"cookiesBar\" style={{ display: \"flex\" }}>\r\n                <div className=\"cookiesBarLeft\">This Website uses cookies and location</div>\r\n                <div className=\"cookiesBarYes\" onClick={(event) => { event.preventDefault(); allow() }}>Allow</div>\r\n                <div className=\"cookiesBarNo\" onClick={(event) => { event.preventDefault(); block() }}>Block</div>\r\n            </div>\r\n        )\r\n    }\r\n    function Hide() {\r\n        return (\r\n            <div></div>\r\n        )\r\n    }\r\n    useEffect(() => {\r\n        const timer = setTimeout(() => {\r\n            setpagereloader(!pagereloader)\r\n        }, 650);\r\n        return () => {\r\n            clearTimeout(timer);\r\n            setchangeStatus({})\r\n        }\r\n    }, [pagereloader]);\r\n\r\n    switch (all.hasOwnProperty(\"visitor\")) {\r\n        case true:\r\n            return <div>{Hide()}</div>;\r\n            break;\r\n        case false:\r\n            return <div>{Show()}</div>;\r\n            break;\r\n        default:\r\n            return null;\r\n    }\r\n}\r\n"]},"metadata":{},"sourceType":"module"}