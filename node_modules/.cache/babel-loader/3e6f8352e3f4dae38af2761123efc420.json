{"ast":null,"code":"var _jsxFileName = \"F:\\\\Work\\\\JavaScript\\\\React\\\\Portfolio\\\\kantahusari.github.io\\\\src\\\\Component\\\\InfoBar\\\\InfoBar.js\",\n    _s = $RefreshSig$();\n\n/* eslint-disable no-unreachable */\n\n/* eslint-disable react-hooks/exhaustive-deps */\n\n/* eslint-disable jsx-a11y/anchor-is-valid */\n\n/* eslint-disable jsx-a11y/alt-text */\n\n/* eslint-disable jsx-a11y/alt-text */\n\n/* eslint-disable jsx-a11y/anchor-is-valid */\n\n/* eslint-disable no-unused-vars */\n\n/* eslint-disable jsx-a11y/alt-text */\n\n/* eslint-disable jsx-a11y/anchor-has-content */\n\n/* eslint-disable jsx-a11y/alt-text */\n\n/* eslint-disable no-mixed-operators */\n\n/* eslint-disable no-unused-vars */\n\n/* eslint-disable jsx-a11y/alt-text */\nimport React, { useState, useEffect } from 'react';\nimport \"./InfoBar.css\";\nimport Cookies from 'universal-cookie';\nimport axios from 'axios';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function InfoBar() {\n  _s();\n\n  const cookie = new Cookies();\n  const all = cookie.getAll();\n  const [pagereloader, setpagereloader] = useState(false);\n  const [visitor, setvisitor] = useState(\"\");\n  const [changeStatus, setchangeStatus] = useState(false);\n\n  async function setAllow() {\n    const res = await axios.get('https://geolocation-db.com/json/').then(res => {\n      const visitorInfo = {\n        ip: res.data.IPv4,\n        country: res.data.country_name,\n        latitude: res.data.latitude,\n        longitude: res.data.longitude\n      };\n      setvisitor(visitorInfo); //test here\n\n      axios.post('https://appzero0.herokuapp.com/guest/info', visitorInfo).then(res => {\n        if (res.data.errors === null || res.data.errors === undefined) {\n          const cookieToset = {\n            country: res.data.country,\n            latitude: res.data.latitude,\n            longitude: res.data.longitude\n          };\n          cookie.set(\"visitor\", cookieToset);\n        } else {\n          cookie.set(\"visitor\", 0);\n        }\n      }).catch(err => {\n        cookie.set(\"visitor\", 0);\n      });\n    });\n  }\n\n  async function setBlock() {\n    await cookie.set(\"visitor\", 0);\n  }\n\n  async function allow() {\n    await setAllow();\n    setchangeStatus(!changeStatus);\n  }\n\n  async function block() {\n    await setBlock();\n    setchangeStatus(!changeStatus);\n  }\n\n  function Show() {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"cookiesBar\",\n      style: {\n        display: \"flex\"\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"cookiesBarLeft\",\n        children: \"This Website uses cookies and location\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 77,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"cookiesBarYes\",\n        onClick: event => {\n          event.preventDefault();\n          allow();\n        },\n        children: \"Allow\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 78,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"cookiesBarNo\",\n        onClick: event => {\n          event.preventDefault();\n          block();\n        },\n        children: \"Block\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 79,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 13\n    }, this);\n  }\n\n  function Hide() {\n    return /*#__PURE__*/_jsxDEV(\"div\", {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 85,\n      columnNumber: 13\n    }, this);\n  }\n\n  useEffect(() => {\n    const timer = setTimeout(() => {\n      setpagereloader(!pagereloader);\n    }, 650);\n    return () => {\n      clearTimeout(timer);\n      setchangeStatus({});\n    };\n  }, [pagereloader]);\n\n  switch (all.hasOwnProperty(\"visitor\")) {\n    case true:\n      return /*#__PURE__*/_jsxDEV(\"div\", {\n        children: Hide()\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 100,\n        columnNumber: 20\n      }, this);\n      break;\n\n    case false:\n      return /*#__PURE__*/_jsxDEV(\"div\", {\n        children: Show()\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 103,\n        columnNumber: 20\n      }, this);\n      break;\n\n    default:\n      return null;\n  }\n}\n\n_s(InfoBar, \"ve7QG/dxIXSizC8CHM5VkYWSMMo=\");\n\n_c = InfoBar;\n\nvar _c;\n\n$RefreshReg$(_c, \"InfoBar\");","map":{"version":3,"sources":["F:/Work/JavaScript/React/Portfolio/kantahusari.github.io/src/Component/InfoBar/InfoBar.js"],"names":["React","useState","useEffect","Cookies","axios","InfoBar","cookie","all","getAll","pagereloader","setpagereloader","visitor","setvisitor","changeStatus","setchangeStatus","setAllow","res","get","then","visitorInfo","ip","data","IPv4","country","country_name","latitude","longitude","post","errors","undefined","cookieToset","set","catch","err","setBlock","allow","block","Show","display","event","preventDefault","Hide","timer","setTimeout","clearTimeout","hasOwnProperty"],"mappings":"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","sourcesContent":["/* eslint-disable no-unreachable */\r\n/* eslint-disable react-hooks/exhaustive-deps */\r\n/* eslint-disable jsx-a11y/anchor-is-valid */\r\n/* eslint-disable jsx-a11y/alt-text */\r\n/* eslint-disable jsx-a11y/alt-text */\r\n/* eslint-disable jsx-a11y/anchor-is-valid */\r\n/* eslint-disable no-unused-vars */\r\n/* eslint-disable jsx-a11y/alt-text */\r\n/* eslint-disable jsx-a11y/anchor-has-content */\r\n/* eslint-disable jsx-a11y/alt-text */\r\n/* eslint-disable no-mixed-operators */\r\n/* eslint-disable no-unused-vars */\r\n/* eslint-disable jsx-a11y/alt-text */\r\nimport React, { useState, useEffect } from 'react'\r\nimport \"./InfoBar.css\"\r\nimport Cookies from 'universal-cookie';\r\nimport axios from 'axios'\r\n\r\nexport default function InfoBar() {\r\n    const cookie = new Cookies()\r\n    const all = cookie.getAll()\r\n    const [pagereloader, setpagereloader] = useState(false)\r\n\r\n    const [visitor, setvisitor] = useState(\"\")\r\n    const [changeStatus, setchangeStatus] = useState(false)\r\n\r\n    async function setAllow() {\r\n        const res = await axios.get('https://geolocation-db.com/json/').then(\r\n            res => {\r\n                const visitorInfo = {\r\n                    ip: res.data.IPv4,\r\n                    country: res.data.country_name,\r\n                    latitude: res.data.latitude,\r\n                    longitude: res.data.longitude,\r\n                }\r\n                setvisitor(visitorInfo)\r\n                //test here\r\n\r\n\r\n                axios.post('https://appzero0.herokuapp.com/guest/info', visitorInfo)\r\n                    .then(\r\n                        res => {\r\n                            if (res.data.errors === null || res.data.errors === undefined) {\r\n                                const cookieToset = {\r\n                                    country: res.data.country,\r\n                                    latitude: res.data.latitude,\r\n                                    longitude: res.data.longitude,\r\n                                }\r\n                                cookie.set(\"visitor\", cookieToset)\r\n                            } else {\r\n                                cookie.set(\"visitor\", 0)\r\n                            }\r\n                        }\r\n                    ).catch(err => {\r\n                        cookie.set(\"visitor\", 0)\r\n                    })\r\n            }\r\n        )\r\n    }\r\n\r\n    async function setBlock() {\r\n        await cookie.set(\"visitor\", 0)\r\n    }\r\n\r\n    async function allow() {\r\n        await setAllow()\r\n        setchangeStatus(!changeStatus)\r\n    }\r\n\r\n    async function block() {\r\n        await setBlock()\r\n        setchangeStatus(!changeStatus)\r\n    }\r\n    function Show() {\r\n        return (\r\n            <div className=\"cookiesBar\" style={{ display: \"flex\" }}>\r\n                <div className=\"cookiesBarLeft\">This Website uses cookies and location</div>\r\n                <div className=\"cookiesBarYes\" onClick={(event) => { event.preventDefault(); allow() }}>Allow</div>\r\n                <div className=\"cookiesBarNo\" onClick={(event) => { event.preventDefault(); block() }}>Block</div>\r\n            </div>\r\n        )\r\n    }\r\n    function Hide() {\r\n        return (\r\n            <div></div>\r\n        )\r\n    }\r\n    useEffect(() => {\r\n        const timer = setTimeout(() => {\r\n            setpagereloader(!pagereloader)\r\n        }, 650);\r\n        return () => {\r\n            clearTimeout(timer);\r\n            setchangeStatus({})\r\n        }\r\n    }, [pagereloader]);\r\n\r\n    switch (all.hasOwnProperty(\"visitor\")) {\r\n        case true:\r\n            return <div>{Hide()}</div>;\r\n            break;\r\n        case false:\r\n            return <div>{Show()}</div>;\r\n            break;\r\n        default:\r\n            return null;\r\n    }\r\n}\r\n"]},"metadata":{},"sourceType":"module"}